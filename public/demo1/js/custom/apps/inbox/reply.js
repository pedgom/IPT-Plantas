/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/assets/core/js/custom/apps/inbox/reply.js":
/*!*************************************************************!*\
  !*** ./resources/assets/core/js/custom/apps/inbox/reply.js ***!
  \*************************************************************/
/***/ (() => {

eval(" // Class definition\n\nvar KTAppInboxReply = function () {\n  // Private functions\n  var handlePreviewText = function handlePreviewText() {\n    // Get all messages\n    var accordions = document.querySelectorAll('[data-kt-inbox-message=\"message_wrapper\"]');\n    accordions.forEach(function (accordion) {\n      // Set variables\n      var header = accordion.querySelector('[data-kt-inbox-message=\"header\"]');\n      var previewText = accordion.querySelector('[data-kt-inbox-message=\"preview\"]');\n      var details = accordion.querySelector('[data-kt-inbox-message=\"details\"]');\n      var message = accordion.querySelector('[data-kt-inbox-message=\"message\"]'); // Init bootstrap collapse -- more info: https://getbootstrap.com/docs/5.1/components/collapse/#via-javascript\n\n      var collapse = new bootstrap.Collapse(message, {\n        toggle: false\n      }); // Handle header click action\n\n      header.addEventListener('click', function (e) {\n        // Return if KTMenu or buttons are clicked\n        if (e.target.closest('[data-kt-menu-trigger=\"click\"]') || e.target.closest('.btn')) {\n          return;\n        } else {\n          previewText.classList.toggle('d-none');\n          details.classList.toggle('d-none');\n          collapse.toggle();\n        }\n      });\n    });\n  }; // Init reply form\n\n\n  var initForm = function initForm() {\n    // Set variables\n    var form = document.querySelector('#kt_inbox_reply_form');\n    var allTagify = form.querySelectorAll('[data-kt-inbox-form=\"tagify\"]'); // Handle CC and BCC\n\n    handleCCandBCC(form); // Handle submit form\n\n    handleSubmit(form); // Init tagify\n\n    allTagify.forEach(function (tagify) {\n      initTagify(tagify);\n    }); // Init quill editor\n\n    initQuill(form); // Init dropzone\n\n    initDropzone(form);\n  }; // Handle CC and BCC toggle\n\n\n  var handleCCandBCC = function handleCCandBCC(el) {\n    // Get elements\n    var ccElement = el.querySelector('[data-kt-inbox-form=\"cc\"]');\n    var ccButton = el.querySelector('[data-kt-inbox-form=\"cc_button\"]');\n    var ccClose = el.querySelector('[data-kt-inbox-form=\"cc_close\"]');\n    var bccElement = el.querySelector('[data-kt-inbox-form=\"bcc\"]');\n    var bccButton = el.querySelector('[data-kt-inbox-form=\"bcc_button\"]');\n    var bccClose = el.querySelector('[data-kt-inbox-form=\"bcc_close\"]'); // Handle CC button click\n\n    ccButton.addEventListener('click', function (e) {\n      e.preventDefault();\n      ccElement.classList.remove('d-none');\n      ccElement.classList.add('d-flex');\n    }); // Handle CC close button click\n\n    ccClose.addEventListener('click', function (e) {\n      e.preventDefault();\n      ccElement.classList.add('d-none');\n      ccElement.classList.remove('d-flex');\n    }); // Handle BCC button click\n\n    bccButton.addEventListener('click', function (e) {\n      e.preventDefault();\n      bccElement.classList.remove('d-none');\n      bccElement.classList.add('d-flex');\n    }); // Handle CC close button click\n\n    bccClose.addEventListener('click', function (e) {\n      e.preventDefault();\n      bccElement.classList.add('d-none');\n      bccElement.classList.remove('d-flex');\n    });\n  }; // Handle submit form\n\n\n  var handleSubmit = function handleSubmit(el) {\n    var submitButton = el.querySelector('[data-kt-inbox-form=\"send\"]'); // Handle button click event\n\n    submitButton.addEventListener(\"click\", function () {\n      // Activate indicator\n      submitButton.setAttribute(\"data-kt-indicator\", \"on\"); // Disable indicator after 3 seconds\n\n      setTimeout(function () {\n        submitButton.removeAttribute(\"data-kt-indicator\");\n      }, 3000);\n    });\n  }; // Init tagify \n\n\n  var initTagify = function initTagify(el) {\n    var inputElm = el;\n    var usersList = [{\n      value: 1,\n      name: 'Emma Smith',\n      avatar: 'avatars/300-6.jpg',\n      email: 'e.smith@kpmg.com.au'\n    }, {\n      value: 2,\n      name: 'Max Smith',\n      avatar: 'avatars/300-1.jpg',\n      email: 'max@kt.com'\n    }, {\n      value: 3,\n      name: 'Sean Bean',\n      avatar: 'avatars/300-5.jpg',\n      email: 'sean@dellito.com'\n    }, {\n      value: 4,\n      name: 'Brian Cox',\n      avatar: 'avatars/300-25.jpg',\n      email: 'brian@exchange.com'\n    }, {\n      value: 5,\n      name: 'Francis Mitcham',\n      avatar: 'avatars/300-9.jpg',\n      email: 'f.mitcham@kpmg.com.au'\n    }, {\n      value: 6,\n      name: 'Dan Wilson',\n      avatar: 'avatars/300-23.jpg',\n      email: 'dam@consilting.com'\n    }, {\n      value: 7,\n      name: 'Ana Crown',\n      avatar: 'avatars/300-12.jpg',\n      email: 'ana.cf@limtel.com'\n    }, {\n      value: 8,\n      name: 'John Miller',\n      avatar: 'avatars/300-13.jpg',\n      email: 'miller@mapple.com'\n    }];\n\n    function tagTemplate(tagData) {\n      return \"\\n                <tag title=\\\"\".concat(tagData.title || tagData.email, \"\\\"\\n                        contenteditable='false'\\n                        spellcheck='false'\\n                        tabIndex=\\\"-1\\\"\\n                        class=\\\"\").concat(this.settings.classNames.tag, \" \").concat(tagData[\"class\"] ? tagData[\"class\"] : \"\", \"\\\"\\n                        \").concat(this.getAttributes(tagData), \">\\n                    <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\\n                    <div class=\\\"d-flex align-items-center\\\">\\n                        <div class='tagify__tag__avatar-wrap ps-0'>\\n                            <img onerror=\\\"this.style.visibility='hidden'\\\" class=\\\"rounded-circle w-25px me-2\\\" src=\\\"\").concat(hostUrl, \"media/\").concat(tagData.avatar, \"\\\">\\n                        </div>\\n                        <span class='tagify__tag-text'>\").concat(tagData.name, \"</span>\\n                    </div>\\n                </tag>\\n            \");\n    }\n\n    function suggestionItemTemplate(tagData) {\n      return \"\\n                <div \".concat(this.getAttributes(tagData), \"\\n                    class='tagify__dropdown__item d-flex align-items-center \").concat(tagData[\"class\"] ? tagData[\"class\"] : \"\", \"'\\n                    tabindex=\\\"0\\\"\\n                    role=\\\"option\\\">\\n\\n                    \").concat(tagData.avatar ? \"\\n                            <div class='tagify__dropdown__item__avatar-wrap me-2'>\\n                                <img onerror=\\\"this.style.visibility='hidden'\\\"  class=\\\"rounded-circle w-50px me-2\\\" src=\\\"\".concat(hostUrl, \"media/\").concat(tagData.avatar, \"\\\">\\n                            </div>\") : '', \"\\n\\n                    <div class=\\\"d-flex flex-column\\\">\\n                        <strong>\").concat(tagData.name, \"</strong>\\n                        <span>\").concat(tagData.email, \"</span>\\n                    </div>\\n                </div>\\n            \");\n    } // initialize Tagify on the above input node reference\n\n\n    var tagify = new Tagify(inputElm, {\n      tagTextProp: 'name',\n      // very important since a custom template is used with this property as text. allows typing a \"value\" or a \"name\" to match input with whitelist\n      enforceWhitelist: true,\n      skipInvalid: true,\n      // do not remporarily add invalid tags\n      dropdown: {\n        closeOnSelect: false,\n        enabled: 0,\n        classname: 'users-list',\n        searchKeys: ['name', 'email'] // very important to set by which keys to search for suggesttions when typing\n\n      },\n      templates: {\n        tag: tagTemplate,\n        dropdownItem: suggestionItemTemplate\n      },\n      whitelist: usersList\n    });\n    tagify.on('dropdown:show dropdown:updated', onDropdownShow);\n    tagify.on('dropdown:select', onSelectSuggestion);\n    var addAllSuggestionsElm;\n\n    function onDropdownShow(e) {\n      var dropdownContentElm = e.detail.tagify.DOM.dropdown.content;\n\n      if (tagify.suggestedListItems.length > 1) {\n        addAllSuggestionsElm = getAddAllSuggestionsElm(); // insert \"addAllSuggestionsElm\" as the first element in the suggestions list\n\n        dropdownContentElm.insertBefore(addAllSuggestionsElm, dropdownContentElm.firstChild);\n      }\n    }\n\n    function onSelectSuggestion(e) {\n      if (e.detail.elm == addAllSuggestionsElm) tagify.dropdown.selectAll.call(tagify);\n    } // create a \"add all\" custom suggestion element every time the dropdown changes\n\n\n    function getAddAllSuggestionsElm() {\n      // suggestions items should be based on \"dropdownItem\" template\n      return tagify.parseTemplate('dropdownItem', [{\n        \"class\": \"addAll\",\n        name: \"Add all\",\n        email: tagify.settings.whitelist.reduce(function (remainingSuggestions, item) {\n          return tagify.isTagDuplicate(item.value) ? remainingSuggestions : remainingSuggestions + 1;\n        }, 0) + \" Members\"\n      }]);\n    }\n  }; // Init quill editor \n\n\n  var initQuill = function initQuill(el) {\n    var quill = new Quill('#kt_inbox_form_editor', {\n      modules: {\n        toolbar: [[{\n          header: [1, 2, false]\n        }], ['bold', 'italic', 'underline'], ['image', 'code-block']]\n      },\n      placeholder: 'Type your text here...',\n      theme: 'snow' // or 'bubble'\n\n    }); // Customize editor\n\n    var toolbar = el.querySelector('.ql-toolbar');\n\n    if (toolbar) {\n      var _toolbar$classList;\n\n      var classes = ['px-5', 'border-top-0', 'border-start-0', 'border-end-0'];\n\n      (_toolbar$classList = toolbar.classList).add.apply(_toolbar$classList, classes);\n    }\n  }; // Init dropzone\n\n\n  var initDropzone = function initDropzone(el) {\n    // set the dropzone container id\n    var id = '[data-kt-inbox-form=\"dropzone\"]';\n    var dropzone = el.querySelector(id);\n    var uploadButton = el.querySelector('[data-kt-inbox-form=\"dropzone_upload\"]'); // set the preview element template\n\n    var previewNode = dropzone.querySelector(\".dropzone-item\");\n    previewNode.id = \"\";\n    var previewTemplate = previewNode.parentNode.innerHTML;\n    previewNode.parentNode.removeChild(previewNode);\n    var myDropzone = new Dropzone(id, {\n      // Make the whole body a dropzone\n      url: \"https://preview.keenthemes.com/api/dropzone/void.php\",\n      // Set the url for your upload script location\n      parallelUploads: 20,\n      maxFilesize: 1,\n      // Max filesize in MB\n      previewTemplate: previewTemplate,\n      previewsContainer: id + \" .dropzone-items\",\n      // Define the container to display the previews\n      clickable: uploadButton // Define the element that should be used as click trigger to select files.\n\n    });\n    myDropzone.on(\"addedfile\", function (file) {\n      // Hookup the start button\n      var dropzoneItems = dropzone.querySelectorAll('.dropzone-item');\n      dropzoneItems.forEach(function (dropzoneItem) {\n        dropzoneItem.style.display = '';\n      });\n    }); // Update the total progress bar\n\n    myDropzone.on(\"totaluploadprogress\", function (progress) {\n      var progressBars = dropzone.querySelectorAll('.progress-bar');\n      progressBars.forEach(function (progressBar) {\n        progressBar.style.width = progress + \"%\";\n      });\n    });\n    myDropzone.on(\"sending\", function (file) {\n      // Show the total progress bar when upload starts\n      var progressBars = dropzone.querySelectorAll('.progress-bar');\n      progressBars.forEach(function (progressBar) {\n        progressBar.style.opacity = \"1\";\n      });\n    }); // Hide the total progress bar when nothing\"s uploading anymore\n\n    myDropzone.on(\"complete\", function (progress) {\n      var progressBars = dropzone.querySelectorAll('.dz-complete');\n      setTimeout(function () {\n        progressBars.forEach(function (progressBar) {\n          progressBar.querySelector('.progress-bar').style.opacity = \"0\";\n          progressBar.querySelector('.progress').style.opacity = \"0\";\n        });\n      }, 300);\n    });\n  }; // Public methods\n\n\n  return {\n    init: function init() {\n      handlePreviewText();\n      initForm();\n    }\n  };\n}(); // On document ready\n\n\nKTUtil.onDOMContentLoaded(function () {\n  KTAppInboxReply.init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvYXNzZXRzL2NvcmUvanMvY3VzdG9tL2FwcHMvaW5ib3gvcmVwbHkuanMuanMiLCJtYXBwaW5ncyI6IkNBRUE7O0FBQ0EsSUFBSUEsZUFBZSxHQUFHLFlBQVk7QUFFOUI7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLEdBQU07QUFDNUI7QUFDQSxRQUFNQyxVQUFVLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsMkNBQTFCLENBQW5CO0FBQ0FGLElBQUFBLFVBQVUsQ0FBQ0csT0FBWCxDQUFtQixVQUFBQyxTQUFTLEVBQUk7QUFDNUI7QUFDQSxVQUFNQyxNQUFNLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixrQ0FBeEIsQ0FBZjtBQUNBLFVBQU1DLFdBQVcsR0FBR0gsU0FBUyxDQUFDRSxhQUFWLENBQXdCLG1DQUF4QixDQUFwQjtBQUNBLFVBQU1FLE9BQU8sR0FBR0osU0FBUyxDQUFDRSxhQUFWLENBQXdCLG1DQUF4QixDQUFoQjtBQUNBLFVBQU1HLE9BQU8sR0FBR0wsU0FBUyxDQUFDRSxhQUFWLENBQXdCLG1DQUF4QixDQUFoQixDQUw0QixDQU81Qjs7QUFDQSxVQUFNSSxRQUFRLEdBQUcsSUFBSUMsU0FBUyxDQUFDQyxRQUFkLENBQXVCSCxPQUF2QixFQUFnQztBQUFFSSxRQUFBQSxNQUFNLEVBQUU7QUFBVixPQUFoQyxDQUFqQixDQVI0QixDQVU1Qjs7QUFDQVIsTUFBQUEsTUFBTSxDQUFDUyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxVQUFBQyxDQUFDLEVBQUk7QUFDbEM7QUFDQSxZQUFJQSxDQUFDLENBQUNDLE1BQUYsQ0FBU0MsT0FBVCxDQUFpQixnQ0FBakIsS0FBc0RGLENBQUMsQ0FBQ0MsTUFBRixDQUFTQyxPQUFULENBQWlCLE1BQWpCLENBQTFELEVBQW9GO0FBQ2hGO0FBQ0gsU0FGRCxNQUVPO0FBQ0hWLFVBQUFBLFdBQVcsQ0FBQ1csU0FBWixDQUFzQkwsTUFBdEIsQ0FBNkIsUUFBN0I7QUFD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SSxFQUFFLGdCQUFZO0FBQ2QzSCxNQUFBQSxpQkFBaUI7QUFDakJvQixNQUFBQSxRQUFRO0FBQ1g7QUFKRSxHQUFQO0FBTUgsQ0ExVHFCLEVBQXRCLEMsQ0E0VEE7OztBQUNBd0csTUFBTSxDQUFDQyxrQkFBUCxDQUEwQixZQUFZO0FBQ2xDOUgsRUFBQUEsZUFBZSxDQUFDNEgsSUFBaEI7QUFDSCxDQUZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9jb3JlL2pzL2N1c3RvbS9hcHBzL2luYm94L3JlcGx5LmpzP2YxMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vLyBDbGFzcyBkZWZpbml0aW9uXHJcbnZhciBLVEFwcEluYm94UmVwbHkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy8gUHJpdmF0ZSBmdW5jdGlvbnNcclxuICAgIGNvbnN0IGhhbmRsZVByZXZpZXdUZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIEdldCBhbGwgbWVzc2FnZXNcclxuICAgICAgICBjb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEta3QtaW5ib3gtbWVzc2FnZT1cIm1lc3NhZ2Vfd3JhcHBlclwiXScpO1xyXG4gICAgICAgIGFjY29yZGlvbnMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgICAgICAgICAvLyBTZXQgdmFyaWFibGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1tZXNzYWdlPVwiaGVhZGVyXCJdJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpZXdUZXh0ID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LW1lc3NhZ2U9XCJwcmV2aWV3XCJdJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBhY2NvcmRpb24ucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtbWVzc2FnZT1cImRldGFpbHNcIl0nKTtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1tZXNzYWdlPVwibWVzc2FnZVwiXScpO1xyXG5cclxuICAgICAgICAgICAgLy8gSW5pdCBib290c3RyYXAgY29sbGFwc2UgLS0gbW9yZSBpbmZvOiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vZG9jcy81LjEvY29tcG9uZW50cy9jb2xsYXBzZS8jdmlhLWphdmFzY3JpcHRcclxuICAgICAgICAgICAgY29uc3QgY29sbGFwc2UgPSBuZXcgYm9vdHN0cmFwLkNvbGxhcHNlKG1lc3NhZ2UsIHsgdG9nZ2xlOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBoZWFkZXIgY2xpY2sgYWN0aW9uXHJcbiAgICAgICAgICAgIGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGlmIEtUTWVudSBvciBidXR0b25zIGFyZSBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEta3QtbWVudS10cmlnZ2VyPVwiY2xpY2tcIl0nKSB8fCBlLnRhcmdldC5jbG9zZXN0KCcuYnRuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdUZXh0LmNsYXNzTGlzdC50b2dnbGUoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMuY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2UudG9nZ2xlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXQgcmVwbHkgZm9ybVxyXG4gICAgY29uc3QgaW5pdEZvcm0gPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2V0IHZhcmlhYmxlc1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcja3RfaW5ib3hfcmVwbHlfZm9ybScpO1xyXG4gICAgICAgIGNvbnN0IGFsbFRhZ2lmeSA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEta3QtaW5ib3gtZm9ybT1cInRhZ2lmeVwiXScpO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgQ0MgYW5kIEJDQ1xyXG4gICAgICAgIGhhbmRsZUNDYW5kQkNDKGZvcm0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgc3VibWl0IGZvcm1cclxuICAgICAgICBoYW5kbGVTdWJtaXQoZm9ybSk7XHJcblxyXG4gICAgICAgIC8vIEluaXQgdGFnaWZ5XHJcbiAgICAgICAgYWxsVGFnaWZ5LmZvckVhY2godGFnaWZ5ID0+IHtcclxuICAgICAgICAgICAgaW5pdFRhZ2lmeSh0YWdpZnkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbml0IHF1aWxsIGVkaXRvclxyXG4gICAgICAgIGluaXRRdWlsbChmb3JtKTtcclxuXHJcbiAgICAgICAgLy8gSW5pdCBkcm9wem9uZVxyXG4gICAgICAgIGluaXREcm9wem9uZShmb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgQ0MgYW5kIEJDQyB0b2dnbGVcclxuICAgIGNvbnN0IGhhbmRsZUNDYW5kQkNDID0gKGVsKSA9PiB7XHJcbiAgICAgICAgLy8gR2V0IGVsZW1lbnRzXHJcbiAgICAgICAgY29uc3QgY2NFbGVtZW50ID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImNjXCJdJyk7XHJcbiAgICAgICAgY29uc3QgY2NCdXR0b24gPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1mb3JtPVwiY2NfYnV0dG9uXCJdJyk7XHJcbiAgICAgICAgY29uc3QgY2NDbG9zZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LWZvcm09XCJjY19jbG9zZVwiXScpO1xyXG4gICAgICAgIGNvbnN0IGJjY0VsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1mb3JtPVwiYmNjXCJdJyk7XHJcbiAgICAgICAgY29uc3QgYmNjQnV0dG9uID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImJjY19idXR0b25cIl0nKTtcclxuICAgICAgICBjb25zdCBiY2NDbG9zZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LWZvcm09XCJiY2NfY2xvc2VcIl0nKTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIENDIGJ1dHRvbiBjbGlja1xyXG4gICAgICAgIGNjQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNjRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgY2NFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2QtZmxleCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgQ0MgY2xvc2UgYnV0dG9uIGNsaWNrXHJcbiAgICAgICAgY2NDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjY0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIGNjRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLWZsZXgnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIEJDQyBidXR0b24gY2xpY2tcclxuICAgICAgICBiY2NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgYmNjRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgYmNjRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkLWZsZXgnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIENDIGNsb3NlIGJ1dHRvbiBjbGlja1xyXG4gICAgICAgIGJjY0Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGJjY0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIGJjY0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1mbGV4Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIHN1Ym1pdCBmb3JtXHJcbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZWwpID0+IHtcclxuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1mb3JtPVwic2VuZFwiXScpO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgYnV0dG9uIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEFjdGl2YXRlIGluZGljYXRvclxyXG4gICAgICAgICAgICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1rdC1pbmRpY2F0b3JcIiwgXCJvblwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgaW5kaWNhdG9yIGFmdGVyIDMgc2Vjb25kc1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWt0LWluZGljYXRvclwiKTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdCB0YWdpZnkgXHJcbiAgICBjb25zdCBpbml0VGFnaWZ5ID0gKGVsKSA9PiB7XHJcbiAgICAgICAgdmFyIGlucHV0RWxtID0gZWw7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJzTGlzdCA9IFtcclxuICAgICAgICAgICAgeyB2YWx1ZTogMSwgbmFtZTogJ0VtbWEgU21pdGgnLCBhdmF0YXI6ICdhdmF0YXJzLzMwMC02LmpwZycsIGVtYWlsOiAnZS5zbWl0aEBrcG1nLmNvbS5hdScgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogMiwgbmFtZTogJ01heCBTbWl0aCcsIGF2YXRhcjogJ2F2YXRhcnMvMzAwLTEuanBnJywgZW1haWw6ICdtYXhAa3QuY29tJyB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAzLCBuYW1lOiAnU2VhbiBCZWFuJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtNS5qcGcnLCBlbWFpbDogJ3NlYW5AZGVsbGl0by5jb20nIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDQsIG5hbWU6ICdCcmlhbiBDb3gnLCBhdmF0YXI6ICdhdmF0YXJzLzMwMC0yNS5qcGcnLCBlbWFpbDogJ2JyaWFuQGV4Y2hhbmdlLmNvbScgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogNSwgbmFtZTogJ0ZyYW5jaXMgTWl0Y2hhbScsIGF2YXRhcjogJ2F2YXRhcnMvMzAwLTkuanBnJywgZW1haWw6ICdmLm1pdGNoYW1Aa3BtZy5jb20uYXUnIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDYsIG5hbWU6ICdEYW4gV2lsc29uJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtMjMuanBnJywgZW1haWw6ICdkYW1AY29uc2lsdGluZy5jb20nIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDcsIG5hbWU6ICdBbmEgQ3Jvd24nLCBhdmF0YXI6ICdhdmF0YXJzLzMwMC0xMi5qcGcnLCBlbWFpbDogJ2FuYS5jZkBsaW10ZWwuY29tJyB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiA4LCBuYW1lOiAnSm9obiBNaWxsZXInLCBhdmF0YXI6ICdhdmF0YXJzLzMwMC0xMy5qcGcnLCBlbWFpbDogJ21pbGxlckBtYXBwbGUuY29tJyB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdGFnVGVtcGxhdGUodGFnRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICAgICAgPHRhZyB0aXRsZT1cIiR7KHRhZ0RhdGEudGl0bGUgfHwgdGFnRGF0YS5lbWFpbCl9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudGVkaXRhYmxlPSdmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlbGxjaGVjaz0nZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIiR7dGhpcy5zZXR0aW5ncy5jbGFzc05hbWVzLnRhZ30gJHt0YWdEYXRhLmNsYXNzID8gdGFnRGF0YS5jbGFzcyA6IFwiXCJ9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmdldEF0dHJpYnV0ZXModGFnRGF0YSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDx4IHRpdGxlPScnIGNsYXNzPSd0YWdpZnlfX3RhZ19fcmVtb3ZlQnRuJyByb2xlPSdidXR0b24nIGFyaWEtbGFiZWw9J3JlbW92ZSB0YWcnPjwveD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd0YWdpZnlfX3RhZ19fYXZhdGFyLXdyYXAgcHMtMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIG9uZXJyb3I9XCJ0aGlzLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbidcIiBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIHctMjVweCBtZS0yXCIgc3JjPVwiJHtob3N0VXJsfW1lZGlhLyR7dGFnRGF0YS5hdmF0YXJ9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ndGFnaWZ5X190YWctdGV4dCc+JHt0YWdEYXRhLm5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC90YWc+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN1Z2dlc3Rpb25JdGVtVGVtcGxhdGUodGFnRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiAke3RoaXMuZ2V0QXR0cmlidXRlcyh0YWdEYXRhKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz0ndGFnaWZ5X19kcm9wZG93bl9faXRlbSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyICR7dGFnRGF0YS5jbGFzcyA/IHRhZ0RhdGEuY2xhc3MgOiBcIlwifSdcclxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJvcHRpb25cIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHt0YWdEYXRhLmF2YXRhciA/IGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RhZ2lmeV9fZHJvcGRvd25fX2l0ZW1fX2F2YXRhci13cmFwIG1lLTInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgb25lcnJvcj1cInRoaXMuc3R5bGUudmlzaWJpbGl0eT0naGlkZGVuJ1wiICBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIHctNTBweCBtZS0yXCIgc3JjPVwiJHtob3N0VXJsfW1lZGlhLyR7dGFnRGF0YS5hdmF0YXJ9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gIDogJydcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBmbGV4LWNvbHVtblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPiR7dGFnRGF0YS5uYW1lfTwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3RhZ0RhdGEuZW1haWx9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgVGFnaWZ5IG9uIHRoZSBhYm92ZSBpbnB1dCBub2RlIHJlZmVyZW5jZVxyXG4gICAgICAgIHZhciB0YWdpZnkgPSBuZXcgVGFnaWZ5KGlucHV0RWxtLCB7XHJcbiAgICAgICAgICAgIHRhZ1RleHRQcm9wOiAnbmFtZScsIC8vIHZlcnkgaW1wb3J0YW50IHNpbmNlIGEgY3VzdG9tIHRlbXBsYXRlIGlzIHVzZWQgd2l0aCB0aGlzIHByb3BlcnR5IGFzIHRleHQuIGFsbG93cyB0eXBpbmcgYSBcInZhbHVlXCIgb3IgYSBcIm5hbWVcIiB0byBtYXRjaCBpbnB1dCB3aXRoIHdoaXRlbGlzdFxyXG4gICAgICAgICAgICBlbmZvcmNlV2hpdGVsaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICBza2lwSW52YWxpZDogdHJ1ZSwgLy8gZG8gbm90IHJlbXBvcmFyaWx5IGFkZCBpbnZhbGlkIHRhZ3NcclxuICAgICAgICAgICAgZHJvcGRvd246IHtcclxuICAgICAgICAgICAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogMCxcclxuICAgICAgICAgICAgICAgIGNsYXNzbmFtZTogJ3VzZXJzLWxpc3QnLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoS2V5czogWyduYW1lJywgJ2VtYWlsJ10gIC8vIHZlcnkgaW1wb3J0YW50IHRvIHNldCBieSB3aGljaCBrZXlzIHRvIHNlYXJjaCBmb3Igc3VnZ2VzdHRpb25zIHdoZW4gdHlwaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlczoge1xyXG4gICAgICAgICAgICAgICAgdGFnOiB0YWdUZW1wbGF0ZSxcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duSXRlbTogc3VnZ2VzdGlvbkl0ZW1UZW1wbGF0ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3aGl0ZWxpc3Q6IHVzZXJzTGlzdFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRhZ2lmeS5vbignZHJvcGRvd246c2hvdyBkcm9wZG93bjp1cGRhdGVkJywgb25Ecm9wZG93blNob3cpXHJcbiAgICAgICAgdGFnaWZ5Lm9uKCdkcm9wZG93bjpzZWxlY3QnLCBvblNlbGVjdFN1Z2dlc3Rpb24pXHJcblxyXG4gICAgICAgIHZhciBhZGRBbGxTdWdnZXN0aW9uc0VsbTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25Ecm9wZG93blNob3coZSkge1xyXG4gICAgICAgICAgICB2YXIgZHJvcGRvd25Db250ZW50RWxtID0gZS5kZXRhaWwudGFnaWZ5LkRPTS5kcm9wZG93bi5jb250ZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhZ2lmeS5zdWdnZXN0ZWRMaXN0SXRlbXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgYWRkQWxsU3VnZ2VzdGlvbnNFbG0gPSBnZXRBZGRBbGxTdWdnZXN0aW9uc0VsbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc2VydCBcImFkZEFsbFN1Z2dlc3Rpb25zRWxtXCIgYXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHN1Z2dlc3Rpb25zIGxpc3RcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGVudEVsbS5pbnNlcnRCZWZvcmUoYWRkQWxsU3VnZ2VzdGlvbnNFbG0sIGRyb3Bkb3duQ29udGVudEVsbS5maXJzdENoaWxkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBvblNlbGVjdFN1Z2dlc3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwuZWxtID09IGFkZEFsbFN1Z2dlc3Rpb25zRWxtKVxyXG4gICAgICAgICAgICAgICAgdGFnaWZ5LmRyb3Bkb3duLnNlbGVjdEFsbC5jYWxsKHRhZ2lmeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjcmVhdGUgYSBcImFkZCBhbGxcIiBjdXN0b20gc3VnZ2VzdGlvbiBlbGVtZW50IGV2ZXJ5IHRpbWUgdGhlIGRyb3Bkb3duIGNoYW5nZXNcclxuICAgICAgICBmdW5jdGlvbiBnZXRBZGRBbGxTdWdnZXN0aW9uc0VsbSgpIHtcclxuICAgICAgICAgICAgLy8gc3VnZ2VzdGlvbnMgaXRlbXMgc2hvdWxkIGJlIGJhc2VkIG9uIFwiZHJvcGRvd25JdGVtXCIgdGVtcGxhdGVcclxuICAgICAgICAgICAgcmV0dXJuIHRhZ2lmeS5wYXJzZVRlbXBsYXRlKCdkcm9wZG93bkl0ZW0nLCBbe1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiYWRkQWxsXCIsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFkZCBhbGxcIixcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB0YWdpZnkuc2V0dGluZ3Mud2hpdGVsaXN0LnJlZHVjZShmdW5jdGlvbiAocmVtYWluaW5nU3VnZ2VzdGlvbnMsIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFnaWZ5LmlzVGFnRHVwbGljYXRlKGl0ZW0udmFsdWUpID8gcmVtYWluaW5nU3VnZ2VzdGlvbnMgOiByZW1haW5pbmdTdWdnZXN0aW9ucyArIDFcclxuICAgICAgICAgICAgICAgIH0sIDApICsgXCIgTWVtYmVyc1wiXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdCBxdWlsbCBlZGl0b3IgXHJcbiAgICBjb25zdCBpbml0UXVpbGwgPSAoZWwpID0+IHtcclxuICAgICAgICB2YXIgcXVpbGwgPSBuZXcgUXVpbGwoJyNrdF9pbmJveF9mb3JtX2VkaXRvcicsIHtcclxuICAgICAgICAgICAgbW9kdWxlczoge1xyXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogW1xyXG4gICAgICAgICAgICAgICAgICAgIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogWzEsIDIsIGZhbHNlXVxyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgWydpbWFnZScsICdjb2RlLWJsb2NrJ11cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdUeXBlIHlvdXIgdGV4dCBoZXJlLi4uJyxcclxuICAgICAgICAgICAgdGhlbWU6ICdzbm93JyAvLyBvciAnYnViYmxlJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDdXN0b21pemUgZWRpdG9yXHJcbiAgICAgICAgY29uc3QgdG9vbGJhciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5xbC10b29sYmFyJyk7XHJcblxyXG4gICAgICAgIGlmICh0b29sYmFyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBbJ3B4LTUnLCAnYm9yZGVyLXRvcC0wJywgJ2JvcmRlci1zdGFydC0wJywgJ2JvcmRlci1lbmQtMCddO1xyXG4gICAgICAgICAgICB0b29sYmFyLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXQgZHJvcHpvbmVcclxuICAgIGNvbnN0IGluaXREcm9wem9uZSA9IChlbCkgPT4ge1xyXG4gICAgICAgIC8vIHNldCB0aGUgZHJvcHpvbmUgY29udGFpbmVyIGlkXHJcbiAgICAgICAgY29uc3QgaWQgPSAnW2RhdGEta3QtaW5ib3gtZm9ybT1cImRyb3B6b25lXCJdJztcclxuICAgICAgICBjb25zdCBkcm9wem9uZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gICAgICAgIGNvbnN0IHVwbG9hZEJ1dHRvbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LWZvcm09XCJkcm9wem9uZV91cGxvYWRcIl0nKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHRoZSBwcmV2aWV3IGVsZW1lbnQgdGVtcGxhdGVcclxuICAgICAgICB2YXIgcHJldmlld05vZGUgPSBkcm9wem9uZS5xdWVyeVNlbGVjdG9yKFwiLmRyb3B6b25lLWl0ZW1cIik7XHJcbiAgICAgICAgcHJldmlld05vZGUuaWQgPSBcIlwiO1xyXG4gICAgICAgIHZhciBwcmV2aWV3VGVtcGxhdGUgPSBwcmV2aWV3Tm9kZS5wYXJlbnROb2RlLmlubmVySFRNTDtcclxuICAgICAgICBwcmV2aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHByZXZpZXdOb2RlKTtcclxuXHJcbiAgICAgICAgdmFyIG15RHJvcHpvbmUgPSBuZXcgRHJvcHpvbmUoaWQsIHsgLy8gTWFrZSB0aGUgd2hvbGUgYm9keSBhIGRyb3B6b25lXHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL3ByZXZpZXcua2VlbnRoZW1lcy5jb20vYXBpL2Ryb3B6b25lL3ZvaWQucGhwXCIsIC8vIFNldCB0aGUgdXJsIGZvciB5b3VyIHVwbG9hZCBzY3JpcHQgbG9jYXRpb25cclxuICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiAyMCxcclxuICAgICAgICAgICAgbWF4RmlsZXNpemU6IDEsIC8vIE1heCBmaWxlc2l6ZSBpbiBNQlxyXG4gICAgICAgICAgICBwcmV2aWV3VGVtcGxhdGU6IHByZXZpZXdUZW1wbGF0ZSxcclxuICAgICAgICAgICAgcHJldmlld3NDb250YWluZXI6IGlkICsgXCIgLmRyb3B6b25lLWl0ZW1zXCIsIC8vIERlZmluZSB0aGUgY29udGFpbmVyIHRvIGRpc3BsYXkgdGhlIHByZXZpZXdzXHJcbiAgICAgICAgICAgIGNsaWNrYWJsZTogdXBsb2FkQnV0dG9uIC8vIERlZmluZSB0aGUgZWxlbWVudCB0aGF0IHNob3VsZCBiZSB1c2VkIGFzIGNsaWNrIHRyaWdnZXIgdG8gc2VsZWN0IGZpbGVzLlxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgbXlEcm9wem9uZS5vbihcImFkZGVkZmlsZVwiLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAvLyBIb29rdXAgdGhlIHN0YXJ0IGJ1dHRvblxyXG4gICAgICAgICAgICBjb25zdCBkcm9wem9uZUl0ZW1zID0gZHJvcHpvbmUucXVlcnlTZWxlY3RvckFsbCgnLmRyb3B6b25lLWl0ZW0nKTtcclxuICAgICAgICAgICAgZHJvcHpvbmVJdGVtcy5mb3JFYWNoKGRyb3B6b25lSXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wem9uZUl0ZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0b3RhbCBwcm9ncmVzcyBiYXJcclxuICAgICAgICBteURyb3B6b25lLm9uKFwidG90YWx1cGxvYWRwcm9ncmVzc1wiLCBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJzID0gZHJvcHpvbmUucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzLWJhcicpO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0JhcnMuZm9yRWFjaChwcm9ncmVzc0JhciA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHByb2dyZXNzICsgXCIlXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBteURyb3B6b25lLm9uKFwic2VuZGluZ1wiLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b3RhbCBwcm9ncmVzcyBiYXIgd2hlbiB1cGxvYWQgc3RhcnRzXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFycyA9IGRyb3B6b25lLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXJzLmZvckVhY2gocHJvZ3Jlc3NCYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGlkZSB0aGUgdG90YWwgcHJvZ3Jlc3MgYmFyIHdoZW4gbm90aGluZ1wicyB1cGxvYWRpbmcgYW55bW9yZVxyXG4gICAgICAgIG15RHJvcHpvbmUub24oXCJjb21wbGV0ZVwiLCBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJzID0gZHJvcHpvbmUucXVlcnlTZWxlY3RvckFsbCgnLmR6LWNvbXBsZXRlJyk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQmFycy5mb3JFYWNoKHByb2dyZXNzQmFyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3MtYmFyJykuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBQdWJsaWMgbWV0aG9kc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVByZXZpZXdUZXh0KCk7XHJcbiAgICAgICAgICAgIGluaXRGb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSgpO1xyXG5cclxuLy8gT24gZG9jdW1lbnQgcmVhZHlcclxuS1RVdGlsLm9uRE9NQ29udGVudExvYWRlZChmdW5jdGlvbiAoKSB7XHJcbiAgICBLVEFwcEluYm94UmVwbHkuaW5pdCgpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIktUQXBwSW5ib3hSZXBseSIsImhhbmRsZVByZXZpZXdUZXh0IiwiYWNjb3JkaW9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhY2NvcmRpb24iLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwicHJldmlld1RleHQiLCJkZXRhaWxzIiwibWVzc2FnZSIsImNvbGxhcHNlIiwiYm9vdHN0cmFwIiwiQ29sbGFwc2UiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJjbGFzc0xpc3QiLCJpbml0Rm9ybSIsImZvcm0iLCJhbGxUYWdpZnkiLCJoYW5kbGVDQ2FuZEJDQyIsImhhbmRsZVN1Ym1pdCIsInRhZ2lmeSIsImluaXRUYWdpZnkiLCJpbml0UXVpbGwiLCJpbml0RHJvcHpvbmUiLCJlbCIsImNjRWxlbWVudCIsImNjQnV0dG9uIiwiY2NDbG9zZSIsImJjY0VsZW1lbnQiLCJiY2NCdXR0b24iLCJiY2NDbG9zZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlIiwiYWRkIiwic3VibWl0QnV0dG9uIiwic2V0QXR0cmlidXRlIiwic2V0VGltZW91dCIsInJlbW92ZUF0dHJpYnV0ZSIsImlucHV0RWxtIiwidXNlcnNMaXN0IiwidmFsdWUiLCJuYW1lIiwiYXZhdGFyIiwiZW1haWwiLCJ0YWdUZW1wbGF0ZSIsInRhZ0RhdGEiLCJ0aXRsZSIsInNldHRpbmdzIiwiY2xhc3NOYW1lcyIsInRhZyIsImdldEF0dHJpYnV0ZXMiLCJob3N0VXJsIiwic3VnZ2VzdGlvbkl0ZW1UZW1wbGF0ZSIsIlRhZ2lmeSIsInRhZ1RleHRQcm9wIiwiZW5mb3JjZVdoaXRlbGlzdCIsInNraXBJbnZhbGlkIiwiZHJvcGRvd24iLCJjbG9zZU9uU2VsZWN0IiwiZW5hYmxlZCIsImNsYXNzbmFtZSIsInNlYXJjaEtleXMiLCJ0ZW1wbGF0ZXMiLCJkcm9wZG93bkl0ZW0iLCJ3aGl0ZWxpc3QiLCJvbiIsIm9uRHJvcGRvd25TaG93Iiwib25TZWxlY3RTdWdnZXN0aW9uIiwiYWRkQWxsU3VnZ2VzdGlvbnNFbG0iLCJkcm9wZG93bkNvbnRlbnRFbG0iLCJkZXRhaWwiLCJET00iLCJjb250ZW50Iiwic3VnZ2VzdGVkTGlzdEl0ZW1zIiwibGVuZ3RoIiwiZ2V0QWRkQWxsU3VnZ2VzdGlvbnNFbG0iLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiZWxtIiwic2VsZWN0QWxsIiwiY2FsbCIsInBhcnNlVGVtcGxhdGUiLCJyZWR1Y2UiLCJyZW1haW5pbmdTdWdnZXN0aW9ucyIsIml0ZW0iLCJpc1RhZ0R1cGxpY2F0ZSIsInF1aWxsIiwiUXVpbGwiLCJtb2R1bGVzIiwidG9vbGJhciIsInBsYWNlaG9sZGVyIiwidGhlbWUiLCJjbGFzc2VzIiwiaWQiLCJkcm9wem9uZSIsInVwbG9hZEJ1dHRvbiIsInByZXZpZXdOb2RlIiwicHJldmlld1RlbXBsYXRlIiwicGFyZW50Tm9kZSIsImlubmVySFRNTCIsInJlbW92ZUNoaWxkIiwibXlEcm9wem9uZSIsIkRyb3B6b25lIiwidXJsIiwicGFyYWxsZWxVcGxvYWRzIiwibWF4RmlsZXNpemUiLCJwcmV2aWV3c0NvbnRhaW5lciIsImNsaWNrYWJsZSIsImZpbGUiLCJkcm9wem9uZUl0ZW1zIiwiZHJvcHpvbmVJdGVtIiwic3R5bGUiLCJkaXNwbGF5IiwicHJvZ3Jlc3MiLCJwcm9ncmVzc0JhcnMiLCJwcm9ncmVzc0JhciIsIndpZHRoIiwib3BhY2l0eSIsImluaXQiLCJLVFV0aWwiLCJvbkRPTUNvbnRlbnRMb2FkZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/assets/core/js/custom/apps/inbox/reply.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/assets/core/js/custom/apps/inbox/reply.js"]();
/******/ 	
/******/ })()
;